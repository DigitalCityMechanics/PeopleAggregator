<html><head>
<link rel="stylesheet" type="text/css" href="docs.css"/>
<title>PeopleAggregator API: method peopleaggregator.getAlbums</title>
</head>
<body>
<div class="api"><h1><a href="peopleaggregator.html">PeopleAggregator API</a>: method peopleaggregator.getAlbums</h1>

<p><a href="#arguments">Arguments</a> | <a href="#return">Return value</a> | <a href="#rest-xml">REST (XML) example</a> | <a href="#rest-json">REST (JSON) example</a> | <a href="#xml-rpc">XML-RPC example</a></p>
<div class="method">
<h2>Method: peopleaggregator.getAlbums</h2>
<div class="detail">
<div class="description">Retrieve all albums that a given user, or an anonymous viewer, can access.</div>
<div class="doc-link"><a href="http://wiki.peopleaggregator.org/WSAPI_peopleaggregator.getAlbums_method">User documentation for peopleaggregator.getAlbums on the PeopleAggregator wiki</a></div>
<h3 id="arguments">Arguments (see also <a href="auth.php">Authentication</a>)</h3><div class="detail">
<p>If calling by XML-RPC, note that this method takes a single struct as input, with the following keys:</p>
<div class="argument">
<h3>authToken</h3>
<div class="detail">
<div class="type">Type: string</div>
<div class="description">If present, an authentication token for the user to act as.</div>
<div class="example">Example: <code>as9d867f234o7asdf:928734982734987234:298374982734987234</code></div>
</div><!-- argument/detail -->
</div><!-- argument -->
<div class="argument">
<h3>context</h3>
<div class="detail">
<div class="type">Type: string</div>
<div class="description">'user:123' to return all visible personal albums for user 123, or if an authToken is provided: 'user' to return all your personal albums, 'group' to return your groups, or 'all' to return your albums *and* groups</div>
<div class="example">Example: <code>user</code></div>
<div class="default">Default: <code>user</code></div>
</div><!-- argument/detail -->
</div><!-- argument -->
</div><!-- detail -->
<h3 id="return">Return value (see also <a href="exceptions.php">Exceptions</a>)</h3>
<div class="return">
<div class="detail">
<div class="type">Type: hash</div>
<h2 class="hash-content">Attributes:</h2>
<div class="attribute">
<h3>success</h3>
<div class="detail">
<div class="type">Type: boolean</div>
<div class="description">true if the file was successfully received and saved, or false if an error occurred.</div>
<div class="example">Example: <code>True</code></div>
</div><!-- attribute/detail -->
</div><!-- attribute -->
<div class="attribute">
<h3>albums</h3>
<div class="detail">
<div class="type">Type: array</div>
<h2 class="array-content">Content of each item:</h2>
<div class="item">
<h3>item</h3>
<div class="detail">
<div class="type">Type: hash</div>
<h2 class="hash-content">Attributes:</h2>
<div class="attribute">
<h3>id</h3>
<div class="detail">
<div class="type">Type: string</div>
<div class="description">Album ID</div>
<div class="example">Example: <code>user:26:album:42</code></div>
</div><!-- attribute/detail -->
</div><!-- attribute -->
<div class="attribute">
<h3>access</h3>
<div class="detail">
<div class="type">Type: enum</div>
<div class="description">Access level the given user (or anonymous viewer) has to this album.  'write' means you can publish to the album, whereas 'read' means you can view the album.</div>
<div class="enum-values">Allowed values: <code>read</code>, <code>write</code></div>
<div class="example">Example: <code>read</code></div>
</div><!-- attribute/detail -->
</div><!-- attribute -->
<div class="attribute">
<h3>title</h3>
<div class="detail">
<div class="type">Type: string</div>
<div class="description">Album name</div>
<div class="example">Example: <code>My family photos</code></div>
</div><!-- attribute/detail -->
</div><!-- attribute -->
<div class="attribute">
<h3>created</h3>
<div class="detail">
<div class="type">Type: string</div>
<div class="description">When the message was created</div>
<div class="example">Example: <code>(FIXME: some sort of standard date value?)</code></div>
</div><!-- attribute/detail -->
</div><!-- attribute -->
<div class="attribute">
<h3>type</h3>
<div class="detail">
<div class="type">Type: array</div>
<div class="description">Content types allowed.  Personal albums only allow one content type, but group albums can hold multiple content types.  (Actually, behind the scenes, your content is split into multiple albums.  We might give these all different IDs at some point - not sure yet.)</div>
<h2 class="array-content">Content of each item:</h2>
<div class="item">
<h3>item</h3>
<div class="detail">
<div class="type">Type: enum</div>
<div class="description">Content type allowed</div>
<div class="enum-values">Allowed values: <code>image</code>, <code>audio</code>, <code>video</code></div>
<div class="example">Example: <code>image</code></div>
</div><!-- item/detail -->
</div><!-- item -->
</div><!-- attribute/detail -->
</div><!-- attribute -->
</div><!-- item/detail -->
</div><!-- item -->
</div><!-- attribute/detail -->
</div><!-- attribute -->
</div><!-- return/detail -->
</div><!-- return -->
<h3 id="rest-xml">Example REST (XML) request</h3>
<div class="detail">
<h4>Request</h4>
<div class="detail">
<code>GET <a href="../../api/xml/peopleaggregator/getAlbums?authToken=as9d867f234o7asdf%3A928734982734987234%3A298374982734987234&context=user">/api/xml/peopleaggregator/getAlbums?authToken=as9d867f234o7asdf%3A928734982734987234%3A298374982734987234&context=user</a> HTTP/1.1</code>
</div><!-- detail -->
<h4>Response</h4>
<div class="detail">
<code>HTTP/1.1 200 OK<br>
Content-Type: application/xml<br>
Content-Length: 607<br>
<br>
&lt;response&gt;<br>
&nbsp;&lt;albums&gt;<br>
&nbsp;&nbsp;&lt;item&gt;<br>
&nbsp;&nbsp;&nbsp;&lt;access&gt;read&lt;/access&gt;<br>
&nbsp;&nbsp;&nbsp;&lt;created&gt;(FIXME: some sort of standard date value?)&lt;/created&gt;<br>
&nbsp;&nbsp;&nbsp;&lt;type&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;item&gt;image&lt;/item&gt;<br>
&nbsp;&nbsp;&nbsp;&lt;/type&gt;<br>
&nbsp;&nbsp;&nbsp;&lt;id&gt;user:26:album:42&lt;/id&gt;<br>
&nbsp;&nbsp;&nbsp;&lt;title&gt;My family photos&lt;/title&gt;<br>
&nbsp;&nbsp;&lt;/item&gt;<br>
&nbsp;&lt;/albums&gt;<br>
&nbsp;&lt;success&gt;true&lt;/success&gt;<br>
&lt;/response&gt;<br>
</code> 
</div><!-- detail -->
</div><!-- detail -->
<h3 id="rest-json">Example REST (JSON) request</h3>
<div class="detail">
<h4>Request</h4>
<div class="detail">
<code>GET <a href="../../api/json/peopleaggregator/getAlbums?authToken=as9d867f234o7asdf%3A928734982734987234%3A298374982734987234&context=user">/api/json/peopleaggregator/getAlbums?authToken=as9d867f234o7asdf%3A928734982734987234%3A298374982734987234&context=user</a> HTTP/1.1</code>
</div><!-- detail -->
<h4>Response</h4>
<div class="detail">
<code>HTTP/1.1 200 OK<br>
Content-Type: application/x-javascript<br>
Content-Length: 180<br>
<br>
{"albums": [{"access": "read", "created": "(FIXME: some sort of standard date value?)", "type": ["image"], "id": "user:26:album:42", "title": "My family photos"}], "success": true}</code>
</div><!-- detail -->
</div><!-- detail -->
<h3 id="xml-rpc">Example XML-RPC call</h3>
<div class="detail">
<h4>Request</h4>
<div class="detail">
<code>POST <a href="../../api/xmlrpc">/api/xmlrpc</a> HTTP/1.1<br>
Content-Type: text/xml<br>
Content-Length: 1026<br>
<br>
&lt;?xml version='1.0'?&gt;<br>
&nbsp;&lt;methodCall&gt;<br>
&nbsp;&nbsp;&lt;methodName&gt;peopleaggregator.getAlbums&lt;/methodName&gt;<br>
&nbsp;&nbsp;&lt;params&gt;<br>
&nbsp;&nbsp;&nbsp;&lt;param&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;value&gt;&lt;struct&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;member&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;name&gt;authToken&lt;/name&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;value&gt;&lt;string&gt;as9d867f234o7asdf:928734982734987234:298374982734987234&lt;/string&gt;&lt;/value&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/member&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;member&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;name&gt;context&lt;/name&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;value&gt;&lt;string&gt;user&lt;/string&gt;&lt;/value&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/member&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;/struct&gt;&lt;/value&gt;<br>
&nbsp;&nbsp;&nbsp;&lt;/param&gt;<br>
&nbsp;&nbsp;&lt;/params&gt;<br>
&nbsp;&lt;/methodCall&gt;<br>
&nbsp;</code>
</div><!-- detail -->
<h4>Response</h4>
<div class="detail">
<code>HTTP/1.1 200 OK<br>
Content-Type: text/xml<br>
Content-Length: 3089<br>
<br>
&lt;?xml version='1.0'?&gt;<br>
&nbsp;&lt;methodResponse&gt;<br>
&nbsp;&nbsp;&lt;params&gt;<br>
&nbsp;&nbsp;&nbsp;&lt;param&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;value&gt;&lt;struct&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;member&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;name&gt;albums&lt;/name&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;value&gt;&lt;array&gt;&lt;data&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;value&gt;&lt;struct&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;member&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;name&gt;access&lt;/name&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;value&gt;&lt;string&gt;read&lt;/string&gt;&lt;/value&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/member&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;member&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;name&gt;created&lt;/name&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;value&gt;&lt;string&gt;(FIXME: some sort of standard date value?)&lt;/string&gt;&lt;/value&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/member&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;member&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;name&gt;type&lt;/name&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;value&gt;&lt;array&gt;&lt;data&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;value&gt;&lt;string&gt;image&lt;/string&gt;&lt;/value&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/data&gt;&lt;/array&gt;&lt;/value&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/member&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;member&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;name&gt;id&lt;/name&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;value&gt;&lt;string&gt;user:26:album:42&lt;/string&gt;&lt;/value&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/member&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;member&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;name&gt;title&lt;/name&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;value&gt;&lt;string&gt;My family photos&lt;/string&gt;&lt;/value&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/member&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/struct&gt;&lt;/value&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/data&gt;&lt;/array&gt;&lt;/value&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/member&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;member&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;name&gt;success&lt;/name&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;value&gt;&lt;boolean&gt;1&lt;/boolean&gt;&lt;/value&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/member&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;/struct&gt;&lt;/value&gt;<br>
&nbsp;&nbsp;&nbsp;&lt;/param&gt;<br>
&nbsp;&nbsp;&lt;/params&gt;<br>
&nbsp;&lt;/methodResponse&gt;<br>
&nbsp;</code>
</div><!-- detail -->
</div><!-- detail -->
</div><!-- method/detail -->
</div><!-- method -->
</div><!-- api -->
</body>
</html>
