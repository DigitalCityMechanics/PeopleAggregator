<html><head>
<link rel="stylesheet" type="text/css" href="docs.css"/>
<title>PeopleAggregator API: method peopleaggregator.listAds</title>
</head>
<body>
<div class="api"><h1><a href="peopleaggregator.html">PeopleAggregator API</a>: method peopleaggregator.listAds</h1>

<p><a href="#arguments">Arguments</a> | <a href="#return">Return value</a> | <a href="#rest-xml">REST (XML) example</a> | <a href="#rest-json">REST (JSON) example</a> | <a href="#xml-rpc">XML-RPC example</a></p>
<div class="method">
<h2>Method: peopleaggregator.listAds</h2>
<div class="detail">
<div class="description">List advertisements to be shown on a given page</div>
<div class="doc-link"><a href="http://wiki.peopleaggregator.org/WSAPI_peopleaggregator.listAds_method">User documentation for peopleaggregator.listAds on the PeopleAggregator wiki</a></div>
<h3 id="arguments">Arguments (see also <a href="auth.php">Authentication</a>)</h3><div class="detail">
<p>If calling by XML-RPC, note that this method takes a single struct as input, with the following keys:</p>
<div class="argument">
<h3>page_type</h3>
<div class="detail">
<div class="type">Type: enum</div>
<div class="description">Page on which the ads are to be shown</div>
<div class="enum-values">Allowed values: <code>homepage</code>, <code>user_public</code>, <code>group</code></div>
<div class="example">Example: <code>homepage</code></div>
<div class="default">Default: <code>homepage</code></div>
</div><!-- argument/detail -->
</div><!-- argument -->
</div><!-- detail -->
<h3 id="return">Return value (see also <a href="exceptions.php">Exceptions</a>)</h3>
<div class="return">
<div class="detail">
<div class="type">Type: hash</div>
<h2 class="hash-content">Attributes:</h2>
<div class="attribute">
<h3>success</h3>
<div class="detail">
<div class="type">Type: boolean</div>
<div class="description">true if the user has successfully been created, false on failure.</div>
<div class="example">Example: <code>True</code></div>
</div><!-- attribute/detail -->
</div><!-- attribute -->
<div class="attribute">
<h3>msg</h3>
<div class="detail">
<div class="type">Type: string</div>
<div class="description">Detailed response information</div>
<div class="example">Example: <code>User phil created successfully</code></div>
</div><!-- attribute/detail -->
</div><!-- attribute -->
<div class="attribute">
<h3>ads</h3>
<div class="detail">
<div class="type">Type: array</div>
<div class="description">An advertisement</div>
<h2 class="array-content">Content of each item:</h2>
<div class="item">
<h3>item</h3>
<div class="detail">
<div class="type">Type: hash</div>
<h2 class="hash-content">Attributes:</h2>
<div class="attribute">
<h3>id</h3>
<div class="detail">
<div class="type">Type: string</div>
<div class="description">Advertisement ID</div>
<div class="example">Example: <code>ad:123</code></div>
</div><!-- attribute/detail -->
</div><!-- attribute -->
<div class="attribute">
<h3>title</h3>
<div class="detail">
<div class="type">Type: string</div>
<div class="description">Advertisement title</div>
<div class="example">Example: <code>Priceless!</code></div>
</div><!-- attribute/detail -->
</div><!-- attribute -->
<div class="attribute">
<h3>description</h3>
<div class="detail">
<div class="type">Type: string</div>
<div class="description">Advertisement detail</div>
<div class="example">Example: <code>Some text describing the ad (or in the ad?) would go here, if I was more imaginative.</code></div>
</div><!-- attribute/detail -->
</div><!-- attribute -->
<div class="attribute">
<h3>image</h3>
<div class="detail">
<div class="type">Type: hash</div>
<div class="description">Image to be shown in advertisement.</div>
<h2 class="hash-content">Attributes:</h2>
<div class="attribute">
<h3>url</h3>
<div class="detail">
<div class="type">Type: string</div>
<div class="description">URL of image</div>
<div class="example">Example: <code>http://example.org/peepagg/files/ad_image.jpg</code></div>
</div><!-- attribute/detail -->
</div><!-- attribute -->
<div class="attribute">
<h3>width</h3>
<div class="detail">
<div class="type">Type: int</div>
<div class="description">Width of image</div>
<div class="example">Example: <code>420</code></div>
</div><!-- attribute/detail -->
</div><!-- attribute -->
<div class="attribute">
<h3>height</h3>
<div class="detail">
<div class="type">Type: int</div>
<div class="description">Height of image</div>
<div class="example">Example: <code>960</code></div>
</div><!-- attribute/detail -->
</div><!-- attribute -->
</div><!-- attribute/detail -->
</div><!-- attribute -->
<div class="attribute">
<h3>url</h3>
<div class="detail">
<div class="type">Type: string</div>
<div class="description">URL to send the user to when the ad is clicked</div>
<div class="example">Example: <code>http://example.com/landing_page</code></div>
</div><!-- attribute/detail -->
</div><!-- attribute -->
<div class="attribute">
<h3>javascript</h3>
<div class="detail">
<div class="type">Type: string</div>
<div class="description">Advertisement javascript</div>
<div class="example">Example: <code>alert('panic!')</code></div>
</div><!-- attribute/detail -->
</div><!-- attribute -->
<div class="attribute">
<h3>orientation</h3>
<div class="detail">
<div class="type">Type: string</div>
<div class="description">Horizontal, vertical position (with comma) of the ad module, as two integers</div>
<div class="example">Example: <code>2,1</code></div>
</div><!-- attribute/detail -->
</div><!-- attribute -->
</div><!-- item/detail -->
</div><!-- item -->
</div><!-- attribute/detail -->
</div><!-- attribute -->
</div><!-- return/detail -->
</div><!-- return -->
<h3 id="rest-xml">Example REST (XML) request</h3>
<div class="detail">
<h4>Request</h4>
<div class="detail">
<code>GET <a href="../../api/xml/peopleaggregator/listAds?page_type=homepage">/api/xml/peopleaggregator/listAds?page_type=homepage</a> HTTP/1.1</code>
</div><!-- detail -->
<h4>Response</h4>
<div class="detail">
<code>HTTP/1.1 200 OK<br>
Content-Type: application/xml<br>
Content-Length: 1021<br>
<br>
&lt;response&gt;<br>
&nbsp;&lt;msg&gt;User phil created successfully&lt;/msg&gt;<br>
&nbsp;&lt;ads&gt;<br>
&nbsp;&nbsp;&lt;item&gt;<br>
&nbsp;&nbsp;&nbsp;&lt;description&gt;Some text describing the ad (or in the ad?) would go here, if I was more imaginative.&lt;/description&gt;<br>
&nbsp;&nbsp;&nbsp;&lt;title&gt;Priceless!&lt;/title&gt;<br>
&nbsp;&nbsp;&nbsp;&lt;url&gt;http://example.com/landing_page&lt;/url&gt;<br>
&nbsp;&nbsp;&nbsp;&lt;image&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;url&gt;http://example.org/peepagg/files/ad_image.jpg&lt;/url&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;width&gt;420&lt;/width&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;height&gt;960&lt;/height&gt;<br>
&nbsp;&nbsp;&nbsp;&lt;/image&gt;<br>
&nbsp;&nbsp;&nbsp;&lt;javascript&gt;alert('panic!')&lt;/javascript&gt;<br>
&nbsp;&nbsp;&nbsp;&lt;id&gt;ad:123&lt;/id&gt;<br>
&nbsp;&nbsp;&nbsp;&lt;orientation&gt;2,1&lt;/orientation&gt;<br>
&nbsp;&nbsp;&lt;/item&gt;<br>
&nbsp;&lt;/ads&gt;<br>
&nbsp;&lt;success&gt;true&lt;/success&gt;<br>
&lt;/response&gt;<br>
</code> 
</div><!-- detail -->
</div><!-- detail -->
<h3 id="rest-json">Example REST (JSON) request</h3>
<div class="detail">
<h4>Request</h4>
<div class="detail">
<code>GET <a href="../../api/json/peopleaggregator/listAds?page_type=homepage">/api/json/peopleaggregator/listAds?page_type=homepage</a> HTTP/1.1</code>
</div><!-- detail -->
<h4>Response</h4>
<div class="detail">
<code>HTTP/1.1 200 OK<br>
Content-Type: application/x-javascript<br>
Content-Length: 405<br>
<br>
{"msg": "User phil created successfully", "ads": [{"description": "Some text describing the ad (or in the ad?) would go here, if I was more imaginative.", "title": "Priceless!", "url": "http://example.com/landing_page", "image": {"url": "http://example.org/peepagg/files/ad_image.jpg", "width": 420, "height": 960}, "javascript": "alert('panic!')", "id": "ad:123", "orientation": "2,1"}], "success": true}</code>
</div><!-- detail -->
</div><!-- detail -->
<h3 id="xml-rpc">Example XML-RPC call</h3>
<div class="detail">
<h4>Request</h4>
<div class="detail">
<code>POST <a href="../../api/xmlrpc">/api/xmlrpc</a> HTTP/1.1<br>
Content-Type: text/xml<br>
Content-Length: 704<br>
<br>
&lt;?xml version='1.0'?&gt;<br>
&nbsp;&lt;methodCall&gt;<br>
&nbsp;&nbsp;&lt;methodName&gt;peopleaggregator.listAds&lt;/methodName&gt;<br>
&nbsp;&nbsp;&lt;params&gt;<br>
&nbsp;&nbsp;&nbsp;&lt;param&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;value&gt;&lt;struct&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;member&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;name&gt;page_type&lt;/name&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;value&gt;&lt;string&gt;homepage&lt;/string&gt;&lt;/value&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/member&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;/struct&gt;&lt;/value&gt;<br>
&nbsp;&nbsp;&nbsp;&lt;/param&gt;<br>
&nbsp;&nbsp;&lt;/params&gt;<br>
&nbsp;&lt;/methodCall&gt;<br>
&nbsp;</code>
</div><!-- detail -->
<h4>Response</h4>
<div class="detail">
<code>HTTP/1.1 200 OK<br>
Content-Type: text/xml<br>
Content-Length: 5194<br>
<br>
&lt;?xml version='1.0'?&gt;<br>
&nbsp;&lt;methodResponse&gt;<br>
&nbsp;&nbsp;&lt;params&gt;<br>
&nbsp;&nbsp;&nbsp;&lt;param&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;value&gt;&lt;struct&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;member&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;name&gt;msg&lt;/name&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;value&gt;&lt;string&gt;User phil created successfully&lt;/string&gt;&lt;/value&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/member&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;member&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;name&gt;ads&lt;/name&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;value&gt;&lt;array&gt;&lt;data&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;value&gt;&lt;struct&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;member&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;name&gt;description&lt;/name&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;value&gt;&lt;string&gt;Some text describing the ad (or in the ad?) would go here, if I was more imaginative.&lt;/string&gt;&lt;/value&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/member&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;member&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;name&gt;title&lt;/name&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;value&gt;&lt;string&gt;Priceless!&lt;/string&gt;&lt;/value&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/member&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;member&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;name&gt;url&lt;/name&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;value&gt;&lt;string&gt;http://example.com/landing_page&lt;/string&gt;&lt;/value&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/member&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;member&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;name&gt;image&lt;/name&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;value&gt;&lt;struct&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;member&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;name&gt;url&lt;/name&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;value&gt;&lt;string&gt;http://example.org/peepagg/files/ad_image.jpg&lt;/string&gt;&lt;/value&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/member&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;member&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;name&gt;width&lt;/name&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;value&gt;&lt;int&gt;420&lt;/int&gt;&lt;/value&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/member&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;member&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;name&gt;height&lt;/name&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;value&gt;&lt;int&gt;960&lt;/int&gt;&lt;/value&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/member&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/struct&gt;&lt;/value&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/member&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;member&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;name&gt;javascript&lt;/name&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;value&gt;&lt;string&gt;alert('panic!')&lt;/string&gt;&lt;/value&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/member&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;member&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;name&gt;id&lt;/name&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;value&gt;&lt;string&gt;ad:123&lt;/string&gt;&lt;/value&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/member&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;member&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;name&gt;orientation&lt;/name&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;value&gt;&lt;string&gt;2,1&lt;/string&gt;&lt;/value&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/member&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/struct&gt;&lt;/value&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/data&gt;&lt;/array&gt;&lt;/value&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/member&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;member&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;name&gt;success&lt;/name&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;value&gt;&lt;boolean&gt;1&lt;/boolean&gt;&lt;/value&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/member&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;/struct&gt;&lt;/value&gt;<br>
&nbsp;&nbsp;&nbsp;&lt;/param&gt;<br>
&nbsp;&nbsp;&lt;/params&gt;<br>
&nbsp;&lt;/methodResponse&gt;<br>
&nbsp;</code>
</div><!-- detail -->
</div><!-- detail -->
</div><!-- method/detail -->
</div><!-- method -->
</div><!-- api -->
</body>
</html>
